\chapter{Аналитический раздел}
\label{cha:analysis}

\section{Описание алгоритмов}

Алгоритм Дамерау-Левенштейна является модификацией алгоритма Левенштейна. Рассмотрим данные методы подробнее.

\subsection{Алгоритм Левенштейна}

Расстояние Левенштейна между двумя строками - это минимальная сумма произведений количества операций вставки, удаления и замены одного символа, необходимых для первращения одной строки в другую, на их стоимость.

Вышеописанные операции имеют следующие обозначения:
\begin{itemize}
    \item I (insert) - вставка;
    \item D (delete) - удаление;
    \item R (replace) - замена;
\end{itemize}

При этом cost(x) есть обозначение стоимости некоторой операции x. Будем считать, что символы в строках нумеруются с первого. Пусть $S_{1}$ и $S_{2}$ - две строки с длинами N и M соответственно. Тогда расстояние Левенштейна вычисляется по формуле D(M, N):
\begin{equation}
D(i,j) = \left\{ \begin{array}{ll}
 0, & \textrm{$i = 0, j = 0$}\\
 i * cost(D), & \textrm{$j = 0, i > 0$}\\
 j * cost(I), & \textrm{$i = 0, j > 0$}\\
 D(i - 1, j - 1), & \textrm{$S_{1}[i] = S_{2}[j]$}\\
min(\\
D(i,j-1) + cost(I),\\
D(i-1, j) + cost(D), &\textrm{$j > 0, i > 0, S_1[i] \neq S_2[j]$}\\
D(i-1, j-1) + cost(R)\\
),
  \end{array} \right.
\end{equation}
где min(a, b, c) возвращает наименьшее значение из a, b, c.

\subsection{Алгоритм Дамерау-Левенштейна}
Определение расстояния Дамерау-Левенштейна аналогично определению расстояния Левенштейна с учётом новой операции - перестановки соседних символов. Соответственно, обозначения операций:
\begin{itemize}
    \item I (insert) - вставка;
    \item D (delete) - удаление;
    \item R (replace) - замена;
    \item T (transpose) - перестановка соседних символов.
\end{itemize}

При тех же обозначениях имеем формулу:
\begin{equation}
D(i,j) = \left\{ \begin{array}{ll}
 min(A, D(i - 2, j - 2) + cost(T), & \textrm{$i > 1, j > 1,$}\\
 & \textrm{$S_1[i] = S_2[j - 1],$}\\
 & \textrm{$S_1[i - 1] = S_2[j]$}\\
 A & \textrm{Иначе}\\
  \end{array} \right.
\end{equation}
где A:
\begin{equation}
A = \left\{ \begin{array}{ll}
 0, & \textrm{$i = 0, j = 0$}\\
 i * cost(D), & \textrm{$j = 0, i > 0$}\\
 j * cost(I), & \textrm{$i = 0, j > 0$}\\
 D(i - 1, j - 1), & \textrm{$S_{1}[i] = S_{2}[j]$}\\
min(\\
D(i,j-1) + cost(I),\\
D(i-1, j) + cost(D), &\textrm{$j > 0, i > 0, S_1[i] \neq S_2[j]$}\\
D(i-1, j-1) + cost(R)\\
),
  \end{array} \right.
\end{equation}

